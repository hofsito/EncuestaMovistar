:root{ --open: 0; }

*{ margin:0; padding:0; box-sizing:border-box; font-family:"Nunito", system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

body{
  min-height: 200vh;
  overflow-x: hidden;
  color: #fff;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(255,255,255,.22), rgba(255,255,255,0)),
    radial-gradient(1000px 700px at 80% 20%, rgba(255,255,255,.16), rgba(255,255,255,0)),
    linear-gradient(180deg, #ff5fa4, #ff9fcb 45%, #ff73b5 100%);
}

#bg, #confetti{ position: fixed; inset:0; width:100%; height:100%; display:block; }
#bg{ z-index:0; }
#confetti{ z-index:2; pointer-events:none; opacity:0; transition:opacity .25s ease; }

.wrap{ position: relative; z-index:1; }

.screen{ height:100vh; display:grid; place-items:center; padding:18px; }

.glass{
  width: min(760px, 92vw);
  padding: 26px 20px;
  border-radius: 22px;
  background: rgba(255,255,255,.14);
  border: 1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px);
  box-shadow: 0 22px 80px rgba(0,0,0,.25);
  text-align: center;
}

h1{ font-weight:900; font-size: clamp(2.1rem, 4vw, 3.2rem); margin-bottom: 10px; }
.lead{ font-weight:800; font-size: 1.1rem; line-height: 1.35; opacity: .95; }


.openBtn{
  margin-top: 18px;
  padding: 14px 22px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.25);
  background: linear-gradient(135deg, rgba(255,255,255,.22), rgba(0,0,0,.18));
  color: #fff;
  font-weight: 900;
  font-size: 1.05rem;
  cursor: pointer;
  box-shadow: 0 18px 60px rgba(0,0,0,.25);
  transition: transform .14s ease, filter .2s ease;
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.openBtn:hover{ transform: scale(1.04); filter: brightness(1.08); }
.openBtn:active{ transform: scale(0.98); }

.openBtn .arrow{
  width: 10px; height: 10px;
  border-right: 3px solid rgba(255,255,255,.95);
  border-bottom: 3px solid rgba(255,255,255,.95);
  transform: rotate(45deg);
  animation: arrow 1.1s infinite;
}
@keyframes arrow{
  0%,100%{ transform: rotate(45deg) translate(0,0); opacity: .85; }
  50%{ transform: rotate(45deg) translate(4px,4px); opacity: 1; }
}


#noPortal{
  position: fixed;
  inset: 0;
  z-index: 999999;        
  pointer-events: none;   
}


#ytWrap{ position:fixed; width:1px; height:1px; overflow:hidden; left:-9999px; top:-9999px; }

.stage{ width: min(980px, 96vw); display:grid; place-items:center; }

.envelope{
  width: min(720px, 94vw);
  height: min(520px, 76vh);
  position: relative;
  transform: translateY(calc((1 - var(--open)) * 18px)) scale(calc(0.965 + var(--open) * 0.035));
}


.env-shadow, .env-back, .env-front, .env-flap, .flap-shine{ pointer-events:none; }

.env-shadow{
  position:absolute; inset:0;
  border-radius:30px;
  filter: blur(22px);
  background: rgba(0,0,0,.18);
  transform: translateY(34px) scale(.92);
  z-index:0;
}
.env-back{
  position:absolute; inset:0;
  border-radius:30px;
  background: linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.10));
  border: 1px solid rgba(255,255,255,.22);
  z-index:1;
}
.env-flap{
  position:absolute;
  left:6%; right:6%;
  top:8%;
  height:44%;
  transform-origin: top center;
  transform: perspective(1000px) rotateX(calc(var(--open) * -175deg));
  z-index:4;
}
.env-flap::before{
  content:"";
  position:absolute; inset:0;
  border-radius:26px;
  background: linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.10));
  border: 1px solid rgba(255,255,255,.25);
  clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
}
.flap-shine{
  position:absolute; inset:0;
  clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
  background: radial-gradient(400px 200px at 50% 30%, rgba(255,255,255,.55), rgba(255,255,255,0));
  opacity: calc(0.68 - var(--open) * 0.35);
}
.env-front{
  position:absolute;
  left:6%; right:6%;
  bottom:10%;
  height:52%;
  border-radius:26px;
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.08));
  border: 1px solid rgba(255,255,255,.22);
  z-index:5;
  overflow:hidden;
}
.env-front::before, .env-front::after{
  content:"";
  position:absolute; inset:0;
  background: rgba(255,255,255,.14);
  opacity: .9;
}
.env-front::before{ clip-path: polygon(0% 100%, 50% 45%, 100% 100%); }
.env-front::after{ opacity:.55; clip-path: polygon(0% 0%, 50% 55%, 100% 0%); }


.paper{
  position:absolute;
  left:10%; right:10%;
  bottom:14%;
  height:70%;
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,245,251,.98));
  color:#3b1030;
  z-index: 20;
  pointer-events: auto;
  transform: translateY(calc((1 - var(--open)) * 170px)) scale(calc(0.97 + var(--open) * 0.03));
  opacity: calc(0.18 + var(--open) * 0.82);
  box-shadow: 0 20px 70px rgba(0,0,0,.22);
  overflow:hidden;
}

.paper-top{ padding:16px 16px 10px; display:flex; align-items:center; gap:10px; }
.seal{ width:44px; height:44px; border-radius:999px; background: radial-gradient(circle at 30% 30%, #ff6aa6, #ff2f86); box-shadow: 0 10px 26px rgba(255,47,134,.35); }
.lines{ flex:1; display:grid; gap:8px; }
.line{ height:10px; border-radius:999px; background: rgba(255,106,166,.20); }
.w80{ width:80%; } .w65{ width:65%; } .w90{ width:90%; }

.paper-mid{ padding:8px 18px 2px; display:grid; gap:8px; }
.bigText{ font-size: clamp(1.55rem, 3vw, 2.35rem); font-weight:900; text-align:center; width:100%; opacity: clamp(calc((var(--open) - 0.35) / 0.65), 0, 1); }
.subText{ font-weight:800; text-align:center; width:100%; opacity: clamp(calc((var(--open) - 0.45) / 0.55), 0, 1); }

.paper-actions{ margin-top:10px; padding:10px 18px 16px; opacity: clamp(calc((var(--open) - 0.60) / 0.40), 0, 1); }

.buttons{ display:flex; justify-content:center; gap:14px; flex-wrap:wrap; margin-top:8px; }

.btn{
  border:none;
  border-radius:999px;
  padding:12px 22px;
  font-size:1.05rem;
  font-weight:900;
  cursor:pointer;
  transition: transform .12s ease, filter .2s ease;
  user-select:none;
}
.btn:hover{ transform: scale(1.06); filter: brightness(1.05); }

.yes{ background: linear-gradient(135deg, #ff2f86, #ff77b5); color:#fff; }
.no { background: rgba(255,255,255,.96); color:#c2175b; }

.msg{
  margin-top: 14px;
  min-height: 2.2em;
  font-weight: 900;
  color: #7a1441;

 
  text-align: center;
  font-size: clamp(1.15rem, 2.2vw, 1.55rem);
  line-height: 1.25;
}


.no.floating{
  position: fixed;
  pointer-events: auto;  
}

body.locked {
  overflow: hidden;
  height: 100vh;
}


html, body {
  overscroll-behavior: none;
}